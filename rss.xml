<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
<channel>
 <title>Timm Preetz</title>
 <description>Personal page</description>
 <link>https://timm.preetz.name/</link>
 <atom:link href="https://timm.preetz.name/rss.xml" rel="self" type="application/rss+xml" />


    <item>
    <title><![CDATA[Custom Cursors: Creating CUR Files from Canvas]]></title>
    <description><![CDATA[<h1>Custom Cursors: Creating CUR Files from Canvas</h1>
<p>A recent product design required switching various custom, dynamic cursors at runtime. These were prepared at runtime and drawn onto a <code>Canvas</code>:</p>
<p><video src="./cursor-example.mov" autoplay="true" loop="true" muted="true" width="108"></video></p>
<p>In Chrome and Firefox those canvases can be used as a cursor by setting the <code>cursor</code> property in CSS to <code>url(canvas.toDataURL())</code>. The data URL is guaranteed to contain a <code>base64</code> encoded <code>PNG</code> image of the canvas.</p>
<p>Edge though currently only supports <a href="https://en.wikipedia.org/wiki/ICO_(file_format)"><code>CUR</code> files</a>. Those files wrap the cursor image, optionally at different sizes, with some metadata. Luckily for us, a newer version of the CUR file format allows embedding <code>PNG</code> file data directly.</p>
<p>So I wrote a small library that reads a canvas into <code>PNG</code> blob and then inserts this data into a new <code>Blob</code> that builds up the <code>CUR</code> file. We can then create an <a href="https://developer.mozilla.org/en-US/docs/Web/API/URL/createObjectURL">&quot;<code>object URL</code>&quot;</a> of that <code>CUR</code> file which can be used in CSS similarly to the above method.</p>
<p>Example:</p>
<pre><code class="language-js">// call the `curObjectURLFromCanvas` function to retrieve an object URL pointing to a `CUR` file containing the canvas' image
const cursorObjectURL = curObjectURLFromCanvas(canvas);

// Use this URL in your inline style (or in a programatically created `StyleSheet`)
body.style.cursor = `url(${cursorObjectURL}), pointer`;
</code></pre>
<p>The library is called <code>cursor-utilities</code> and is available on <a href="https://www.npmjs.com/package/cursor-utilities">npm</a>, and the source is on <a href="https://github.com/tp/cursor-utilities">GitHub</a>.</p>
]]></description>
    <link>https://timm.preetz.name/articles/creating-CUR-files-from-canvas/</link>
    <guid isPermaLink="false">/articles/creating-CUR-files-from-canvas/</guid>
    <pubDate>Sat, 21 Apr 2018 12:00:00 +0000</pubDate>
    </item>

    <item>
    <title><![CDATA[WebGL: Smooth Edges on Transparent Canvases]]></title>
    <description><![CDATA[<h1>WebGL: Smooth Edges on Transparent Canvases</h1>
<h2>Task</h2>
<p>For a client project I needed to draw text on a transparent <code>WebGL</code> canvas, which was overlaying a video playing in the background of the page.</p>
<p>After having a hard time with some of the more elaborate <code>Three.js</code> based examples, I was able to quickly gain an initial understanding of the underlying plumbing when studying <a href="http://tehmou.github.io/WebGL-from-Scratch/explain.html#mouse_ripple">this WebGL-from-Scratch example</a>.</p>
<p>The effect came together quickly and looked great, but unfortunately it didn't render the same across all browsers. In Safari the partially transparent edges of the text where leading to while artifacts, as to can see here around the highlighted arc of the letter <code>e</code>:</p>
<p><img src="./Safari_before.png" alt="" /></p>
<p>At first I thought the <code>alpha</code> property of the <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/getContext"><code>contextAttributes</code></a> hadn't been honored, but when switching to a partially transparent font I would be able to see through the letters just fine.</p>
<h2>Solution</h2>
<p>Since I was already investigating the context properties, I tried my hand at the next one that could be related related to the transparency issue: <code>premultipliedAlpha</code>.</p>
<p>Simply changing this from <code>false</code> to  <code>true</code> didn't improve anything for me in Safari. That was not entirely unexpected, since I assumed that I would have to actually &quot;pre-multiply&quot; the alpha for the setting to work correctly.</p>
<p>I didn't know how to actually do this, and whether or not this could even be done with information from the canvas alone (or whether it would require knowing what is underneath it), so I just implemented this first attempt in the shader:</p>
<pre><code class="language-glsl">vec4 pixel = texture2D(tex0, uv).xyzw;

gl_FragColor = vec4(pixel.x * pixel.w, pixel.y * pixel.w, pixel.z * pixel.w, pixel.w);
</code></pre>
<p>Luckily that did indeed solve the white marks on the edges, which are now very smooth:</p>
<p><img src="./Safari_after.png" alt="" /></p>
<h2>Next Steps</h2>
<p>While the edges are now smooth across the 3 browser listed below, you can see that the rendering color differs across them:</p>
<p><img src="./comparison.png" alt="" /></p>
<p>Next, I'll have to look into how not only to achieve smooth but also color correct renderings.</p>
<h2>Further Reading</h2>
<p>A sample project containing the code used for this post is available on GitHub at <a href="https://github.com/tp/webgl-premultipliedAlpha"><code>tp/webgl-premultipliedAlpha</code></a>. You can view the demo in browser <a href="https://cdn.rawgit.com/tp/webgl-premultipliedAlpha/ee3190f9/index.html">using this link</a>.</p>
]]></description>
    <link>https://timm.preetz.name/articles/webgl-smooth-edges-on-transparent-canvases/</link>
    <guid isPermaLink="false">/articles/webgl-smooth-edges-on-transparent-canvases/</guid>
    <pubDate>Sun, 18 Mar 2018 12:00:00 +0000</pubDate>
    </item>

    <item>
    <title><![CDATA[7 Days Without Recreational Media]]></title>
    <description><![CDATA[<h1>7 Days Without Recreational Media</h1>
<p><em>If I didn‚Äôt write this today‚Äîright now even‚ÄîI‚Äôd never do it.</em></p>
<p>Over that last 7 days I‚Äôve been going on a ‚Äúrecreational media hiatus‚Äù‚Äîmeaning not reading, listening to, or watching anything that is not <em>directly applicable</em> to the work at hand.</p>
<p>While there is a current trend to ignore specific social networks for a while, this included every single <em>leisurely used</em><sup id="fa_0"><a href="#fn_0">0</a></sup> information source, such as:</p>
<ul>
<li>Books not concerned with the current day‚Äôs task</li>
<li>Any Blogs, News Site, Aggregators (&quot;push&quot; content)</li>
<li>Podcasts and Audio Books</li>
<li>E-Mail Newsletters<sup id="fa_1"><a href="#fn_1">1</a></sup></li>
<li>TV, Movies, and Radio when alone</li>
</ul>
<p>The only two exceptions I allowed myself was using the Calm app's sleep stories, and the <a href="https://www.amazon.com/The-Pema-Chodron-Audio-Collection/dp/B000BGZQWA/ref=nav_custrec_signin?ie=UTF8&amp;qid=1519425072&amp;sr=8-2&amp;keywords=pema+chodron+collection&amp;">Pema Ch√∂dr√∂n meditations collection</a>. I anticipated that I wouldn‚Äôt want to spent every minute alone doing work or nothing at all, so getting deeper into meditation seemed like a worthwhile endeavor, one that would hopefully further unclutter and calm my mind.</p>
<hr />
<p>I made the decision to try this for a week, while sitting on a train and skipping into the third audiobook on 1 hour ride. I somehow felt that something must be wrong when I couldn‚Äôt even keep my attention on an audiobook that I chose myself and wanted to, or at least aspired to, listen to.</p>
<p>Similarly I noticed that while taking a break during work (üçÖ), I would often get lost on a tangent like some interesting but obscure technology or some new open source project, which would then far exceed the 5 minute goal time.<br />
While getting input from outside my immediate area of work and interest is generally an inspiring source, oftentimes nothing sticks out and I wouldn‚Äôt have been able to recite half of the topics I scratched that day when asked about it before bedtime.</p>
<hr />
<p>Here are some unordered observations I made throughout the week:</p>
<ul>
<li>As there were much less inputs, every single one of them left way more of an impression, and got more time and thorough thought than in any previous week</li>
<li>The meditation felt much easier, more fruitful as my mind was not cluttered with technical trivia. Instead I was able to better listen to the teachings and myself</li>
<li>A lot of times at night I had neither energy to work on anything specific nor the willingness to listen to mediations, so I just ended up doing nothing‚Äîjust sitting and thinking</li>
<li>In the course of the week, snacking emerged as an alternative distraction/feel good mechanism. Apparently there were some voids to fill</li>
<li>Every bit of personal interaction got more valuable. Before I was often so focused on my reading etc. that I would view everyone else nearby as a distraction. Now I was grateful for conversations</li>
<li>The insights I gained during meditation and the ‚Äújust sitting‚Äù times were profunder than anything I have ever experienced. Instead of just hearing the teachers opinions/experiences/facts, I had some very deep insights emerge from within<sup id="fa_2"><a href="#fn_2">2</a></sup></li>
</ul>
<hr />
<p>If I ever get to do this again (who knows, maybe by this time tomorrow I am so exhausted from my ‚Äúcheat day‚Äù, that I'll plan doing this regularly), I will definitely prepare myself to not fall into the next trap, i.e. stock up on healthy, boring food.</p>
<p>Other than that I appreciated the change this week, and how it allowed me to reevaluate my day-to-day behavior and see this media consumption in a more honest light:  it's primarily distractions and rewards, which I was voluntarily seeking out‚Äìcraving even. Only secondarily were they are source of information, often neither actionable or acted upon.</p>
<p><b id="fn_0">0</b> <a href="#fa_0">‚Ü©</a> This is an important distinction to make. While often those media are deeply technical in some field, aspirational, or otherwise of importance to some, I often would just read them for recreational purposes: satisfaction and distraction.</p>
<p><b id="fn_1">1</b> <a href="#fa_1">‚Ü©</a> Yep, it‚Äôs not enough these days to ignore specific apps and not visiting specific sites, somehow I justified for a while now to clutter my inbox with non-critical information. If some site only offers e-mail updates, I will not subscribe to them anymore. The overall downside just outweighs any single of those sources. Side-note: <a href="https://feedbin.com">Feedbin</a> has a great service where you can have newsletters/mails shown alongside your RSS subscriptions.</p>
<p><b id="fn_2">2</b> <a href="#fa_2">‚Ü©</a> I think this stems from a mix of the longer time spent doing meditation as well as the different style used on the above mentioned audio collection. It‚Äôs meditation practices framed by teachings into hour-long sessions. This additional time compared to the short 5-15 minute sessions others offer might‚Äôve been a major contributor to this.</p>
]]></description>
    <link>https://timm.preetz.name/articles/week-without-recreational-media</link>
    <guid isPermaLink="false">/articles/week-without-recreational-media</guid>
    <pubDate>Fri, 23 Feb 2018 12:00:00 +0000</pubDate>
    </item>

    <item>
    <title><![CDATA[An Asynchronous Web API in 1994]]></title>
    <description><![CDATA[<h1>An Asynchronous Web API in 1994</h1>
<p>After going down a <a href="https://news.ycombinator.com/item?id=15898919">Hacker News</a> initiated rabbit hole, I crossed <a href="https://www.youtube.com/watch?v=BxQw4CdxLr8">Donald Knuth's 2017 Christmas Lecture</a> and from there ended up on the <a href="http://oeis.org/">Online Encyclopedia of Integer Sequences</a>.</p>
<p>For every integer sequence you provide, it lists the known occurrences and, if available, formulae that can be used to generate them.</p>
<p>One interesting detail is, that every page still had a &quot;generated in <em>N</em> seconds&quot; footer, where <em>N</em> often was &gt; 5s for my test queries. So it seems like searching 295.000 possible sequences still takes a little computing time, even on modern hardware.</p>
<p>But while getting an answer on modern hardware in a few seconds is acceptable, let's image how much longer this might've taken a few year back.</p>
<p>In order to offer advanced searches and explain sequences a new service was established in 1994: <a href="http://oeis.org/ol.html">&quot;Superseeker&quot;</a>. As this services does some &quot;serious computing&quot;, we can take a guess at how much longer it must've taken to complete a query.</p>
<p>So in order to offer this at that time (where homes still had per-minute dial-up), the search API was implemented  on top of plain e-mail.</p>
<p>That way the server could take as long as it needed to generate a response, and the sender would be notified as soon as possible once the calculation was done. What a beautifully simple approach.</p>
<hr />
<p>Software based on the original bunch of shell scripts from back then is still in use and it's source code is available <a href="http://oeis.org/ol_source.txt">here</a>.</p>
]]></description>
    <link>https://timm.preetz.name/articles/asynchronous-web-api-1994</link>
    <guid isPermaLink="false">/articles/asynchronous-web-api-1994</guid>
    <pubDate>Tue, 12 Dec 2017 12:00:00 +0000</pubDate>
    </item>

    <item>
    <title><![CDATA[Sam Harris: Lying]]></title>
    <description><![CDATA[<h1>Sam Harris: Lying</h1>
<blockquote>
<p>&quot;We often behave in ways that are guaranteed to make us unhappy.&quot;</p>
</blockquote>
<p>Q: What is lying?<br />
A: &quot;To lie is to intentionally mislead others when they expect honest communication.&quot;<sup id="fa_1"><a href="#fn_1">1</a></sup></p>
<p>At this point it is important to differentiate between telling the truth and being truthful. In my understanding of Harris' text, one is lying when &quot;believing one thing while intending to communicate another&quot; (i.e. not truthful). I am unclear on what is made of uttering statements one believes to be true, but which are objectively false.</p>
<p>Harris further advocates for telling the truth, as it is just easier. Instead of keeping track of a made-up story, &quot;we can simply be ourselves&quot;.</p>
<h2>2 Types of Lies</h2>
<ul>
<li>Acts of comission: &quot;Bad things we do&quot;</li>
<li>Acts of omission: &quot;Good things we fail to do&quot;</li>
</ul>
<p>According to Harris the former are viewed more harshly than the latter. Also it could be impractical or infeasible to clarify every (unimportant) misunderstanding in which case an act of omission might be justifiable.</p>
<h2>On &quot;White Lies&quot;</h2>
<p>Often times people think they're helping by telling these, but Harris lists a plethora of examples were white lies have a detrimental effect not only on the receiver, but also the sender.</p>
<p>A common area of this seems to be around medical issues, where family members keep each other in the dark about the actual situation, leading to lost &quot;opportunities for deepening love, compassion, forgiveness, and understanding&quot;.</p>
<ul>
<li>&quot;Children do not learn to tell white lies until around the age of four, after they have achieved a hard-won awareness of the mental states of others.&quot;</li>
<li>&quot;False encouragement is a kind of theft: it steals time, energy, and motivation a person could put toward some other purpose.&quot;<sup id="fa_2"><a href="#fn_2">2</a></sup></li>
</ul>
<h2>Illusory Truth Effect</h2>
<p>&quot;[...] people will recall [something] as fact [...] even if they were first exposed to it in the context of its debunking.&quot;</p>
<hr />
<blockquote>
<p>&quot;By lying, we deny others a view of the world as it is. Our dishonesty not only influences the choices they make, it often determines the choices they can make ‚Äî and in ways we cannot always predict. Every lie is a direct assault upon the autonomy of those we lie to.&quot;</p>
</blockquote>
<p><em>The whole book is a short read.</em></p>
<p><b id="fn_1">1</b> <a href="#fa_1">‚Ü©</a> According to studies quoted in the book, &quot;10% of communication between spouses is deceptive&quot;, and &quot;38% of encounters among college students contain lies&quot;.</p>
<p><b id="fn_2">2</b> <a href="#fa_2">‚Ü©</a> This to me is currently a major argument against acts of omission, and forces my conscience to consider clarifying implicit but also incorrect understandings and assumptions.</p>
]]></description>
    <link>https://timm.preetz.name/articles/lying</link>
    <guid isPermaLink="false">/articles/lying</guid>
    <pubDate>Sun, 27 Aug 2017 12:00:00 +0000</pubDate>
    </item>


</channel>
</rss>